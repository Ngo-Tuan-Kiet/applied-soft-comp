\documentclass[a4paper,14pt]{extarticle}
\usepackage[top=1in,bottom=1in,left=1in,right=1in]{geometry}
\setlength{\emergencystretch}{2em}  % Allows some flexibility in line breaking
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{fontspec}
\usepackage{hyperref}
\usepackage{fontspec}

% Required packages
\usepackage{thmtools}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{mdframed}

% Define colors
\definecolor{contextcolor}{RGB}{240,248,255}  % Light blue
\definecolor{setupcolor}{RGB}{245,245,245}    % Light gray
\definecolor{thinkcolor}{RGB}{230,245,230}    % Light green

% Define counter for exercises
\newcounter{exercisecount}

% Define custom commands
\newcommand{\exercise}[1][]{%
    \stepcounter{exercisecount}%
    \phantomsection % Add anchor for hyperref
    \addcontentsline{toc}{section}{Exercise \theexercisecount: #1} % Add to table of contents
    \section*{\large\textbf{Exercise \theexercisecount:} #1}\par\medskip}

% Define custom commands
\newcounter{stepcount}[exercisecount]
\newcommand{\step}{\stepcounter{stepcount}\paragraph{Step \theexercisecount.\thestepcount}}
\newcommand{\think}[1]{
    \begin{mdframed}[backgroundcolor=thinkcolor,linewidth=0.5pt]
    \textit{Think:} #1
    \end{mdframed}}

% Document settings
\setlength{\parindent}{0pt}
\setlength{\parskip}{1em}

%\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{calc,decorations,patterns,arrows,decorations.pathmorphing,positioning}
\definecolor{pltblue}{HTML}{1F77B4}
\tikzset{every picture/.style={/utils/exec={\fontspec{Pretty Neat}}}}
\setmainfont{Pretty Neat}

\usepackage{wasysym}  % Provides \Square symbol

\makeatletter
\pgfset{
  /pgf/decoration/randomness/.initial=2,
  /pgf/decoration/wavelength/.initial=100
}
\pgfdeclaredecoration{sketch}{init}{
  \state{init}[width=0pt,next state=draw,persistent precomputation={
    \pgfmathsetmacro\pgf@lib@dec@sketch@t0
  }]{}
  \state{draw}[width=\pgfdecorationsegmentlength,
  auto corner on length=\pgfdecorationsegmentlength,
  persistent precomputation={
    \pgfmathsetmacro\pgf@lib@dec@sketch@t{mod(\pgf@lib@dec@sketch@t+pow(\pgfkeysvalueof{/pgf/decoration/randomness},rand),\pgfkeysvalueof{/pgf/decoration/wavelength})}
  }]{
    \pgfmathparse{sin(2*\pgf@lib@dec@sketch@t*pi/\pgfkeysvalueof{/pgf/decoration/wavelength} r)}
    \pgfpathlineto{\pgfqpoint{\pgfdecorationsegmentlength}{\pgfmathresult\pgfdecorationsegmentamplitude}}
  }
  \state{final}{}
}
\tikzset{xkcd/.style={decorate,decoration={sketch,segment length=0.5pt,amplitude=0.5pt}}}
\makeatother

\usepackage{etoolbox}
\AtBeginEnvironment{tabular}{\fontspec{Pretty Neat}}

\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5em}
\usepackage{fancyhdr}
\usepackage{geometry}
\usepackage{adjustbox}
\usepackage{titling}
\usepackage{multicol}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{fontspec}
\usetikzlibrary{calc,decorations,patterns,arrows,decorations.pathmorphing}
\definecolor{pltblue}{HTML}{1F77B4}

\usepackage{amsmath}
\usepackage{tikz}
\usepackage{enumitem}

\title{Random Walk Characteristics Worksheet}
\author{Network Science Course}
\date{}

\begin{document}


\exercise[Title]

\step Step description
\think{Think question}

\end{document}